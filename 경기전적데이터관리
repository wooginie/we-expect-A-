#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#define opCount 12 //배팅한 팀을 상대한 팀의 수 (= csv 파일의 행의 수)

typedef struct gameData {
	char opName[32]; //opponent name
	int vic;
	int tie;
	int lose;
}DATA; //배팅 팀은 아직 없음. case에 들어갈 듯?

void matchData(char* dataName, DATA list_game[]);

int main() {
 	DATA list_game[opCount];
	matchData();	
	return 0;
}

void matchData(char* dataName, DATA list_game[]) {
	//선언
	DATA list_game[opCount];
	char line[1024];
	char* tp; //token pointer
	double score;

	//구조체에 데이터를 저장하기 위해, 경기 전적 데이터 파일(.csv)를 불러온다.
	FILE* fp = fopen("전북.csv", "r"); //file pointer
	if (fp == NULL) {
		printf("파일 읽기 실패!");		
	}
	//파일을 쪼개고, 구조체에 저장한다.	
	for (int i = 0; i < opCount; i++) {
		fgets(line, 1024, fp);
		tp = strtok(line, ",");
		while (tp != NULL) {
			strcpy(list_game[i].opName, tp);
			tp = strtok(NULL, ",");
			score = atof(tp);
			list_game[i].vic = score;
			tp = strtok(NULL, ",");
			score = atof(tp);
			list_game[i].tie = score;
			tp = strtok(NULL, ",");
			score = atof(tp);
			list_game[i].lose = score;
			tp = strtok(NULL, ",");
		}
	}
	fclose(fp);	
}
